<div class="jumbotron text-center"><h1 class="display-3">Patients</h1></div>	
<div class="container-fluid py-5">
	<table class="table text-center">
		<thead class="thead-inverse">
			<tr >
				<th>Name</th>
				<th>Phone</th>
				<th>Address</th>
				<th>Birthday</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<form id="add_patient" action="/add_patient" method="POST">
					<td><input id="P_name" type="text" class="form-control" name="P_name" required></td>
					<td><input id="Phone" type="text" class="form-control" name="Phone" required></td>
					<td><input id="Address" type="text" class="form-control" name="Address" required></td>
					<td><input id="Birthday" type="date" class="form-control" name="Birthday" required></td>
					<td><button class="btn btn-primary">Add Patient</button></td>
				</form> 
			</tr>
		</tbody>
		<tbody id="patient-table">	
			{{#each patient}}
				<tr>
						<td style="display:none">{{this.Patient_id}}</td>
						<td>{{this.P_name}}</td>
						<td>{{this.Phone}}</td>
						<td>{{this.Address}}</td>
						<td>{{this.Birthday}}</td>
						<td><button class="btn btn-primary">Update</button></td>
						<td><button onclick="delete_patient({{this.Patient_id}})" class="btn btn-danger">Delete</button></td>
				</tr>
			{{/each}}
		</tbody>
	</table>
</div>


<script type="text/javascript">
	function delete_patient(id){
		$.ajax({
			url: '/delete_patient/' + id,
			type: 'DELETE',
			success: function(){
				window.location.href = '/patients';
			}
		});
	}
</script>